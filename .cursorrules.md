# Career Chute - Cursor AI Rules

## üö® CRITICAL SECURITY RULES

### NEVER COMMIT SENSITIVE DATA
- **NO** API keys, tokens, secrets, or credentials in code
- **NO** hardcoded passwords or authentication data
- **NO** personal access tokens or OAuth secrets
- **NO** database connection strings with credentials
- **NO** Firebase private keys or service account files

### SECURITY CHECKLIST BEFORE EVERY COMMIT
1. ‚úÖ Search for: `apiKey`, `secret`, `token`, `password`, `credential`
2. ‚úÖ Check for hardcoded URLs with credentials
3. ‚úÖ Verify no `.env` files or config files with secrets
4. ‚úÖ Ensure all sensitive data uses environment variables or user input

### GITHUB TOKEN SECURITY
- **NEVER** include GitHub tokens in git remote URLs
- Use SSH keys or GitHub CLI for authentication
- If using HTTPS, use `gh auth login` instead of embedding tokens

## üìß GMAIL INTEGRATION RULES

### OAuth Implementation
- Client ID comes from user input, never hardcoded
- Access tokens are stored in state, not committed
- All Gmail API calls use proper error handling
- Token refresh is automatic and transparent

### Data Handling
- Email content is processed locally, not stored
- Only metadata (scan results) is saved to Firebase
- No email content is logged or committed

## üîß DEVELOPMENT RULES

### Code Quality
- Use TypeScript-style JSDoc comments
- Implement proper error handling for all API calls
- Follow existing code patterns and naming conventions
- Test OAuth flows before committing

### Firebase Integration
- All user data is properly scoped to userId
- No cross-user data access
- Proper cleanup of old data
- Realtime sync with conflict resolution

### UI/UX
- Maintain consistent design system
- Responsive design for all screen sizes
- Accessible color contrast and interactions
- Clear error messages and loading states

## üö´ FORBIDDEN PATTERNS

```javascript
// ‚ùå NEVER DO THIS
const API_KEY = "sk-1234567890abcdef";
const clientId = "1234567890-abcdef.apps.googleusercontent.com";
const secret = "GOCSPX-abcdef123456";

// ‚úÖ ALWAYS DO THIS
const clientId = state.gmail.clientId; // From user input
const apiKey = process.env.API_KEY; // From environment
```

## üîç PRE-COMMIT SECURITY SCAN

Before every commit, run:
```bash
# Check for hardcoded secrets
grep -r -i "api.*key\|secret\|token\|password" . --exclude-dir=.git --exclude="*.md"
grep -r "ghp_\|gho_\|ghu_\|ghs_\|ghr_" . --exclude-dir=.git
```

## üìù COMMIT MESSAGE FORMAT

- `feat:` New features
- `fix:` Bug fixes  
- `security:` Security improvements
- `refactor:` Code improvements
- `docs:` Documentation updates

Example: `feat: Add Gmail OAuth integration with proper security`

## üõ°Ô∏è EMERGENCY PROCEDURES

If sensitive data is accidentally committed:
1. **IMMEDIATELY** revoke any exposed tokens/keys
2. Remove sensitive data from git history
3. Force push to overwrite remote history
4. Update all affected services with new credentials
5. Audit access logs for any unauthorized usage

## üìã PROJECT-SPECIFIC RULES

### Career Chute App
- Single HTML file architecture
- Firebase for data persistence
- Gmail API for email scanning
- Local storage as backup
- Netlify for deployment

### File Structure
- `index.html` - Main application file
- `PROJECT.md` - Project documentation
- `.cursorrules.md` - This file
- `.gitignore` - Git ignore patterns

### Deployment
- Netlify handles environment variables
- No build process required
- Direct HTML deployment
- CORS properly configured