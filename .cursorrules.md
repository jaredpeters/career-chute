# Career Chute 3.0 - Development Rules

## Project Context
Read PROJECT.md for full context on phases, architecture, and goals.

Current Phase: Phase 3 - Polish & Enhancement
Tech Stack: Vanilla HTML/CSS/JS + Firebase Firestore
Deployment: Netlify (static hosting)

## Code Style & Conventions

### JavaScript
- Use vanilla ES6+ (no frameworks)
- Functions in global scope (onclick handlers need access)
- State management via single `state` object
- Firebase operations always include localStorage fallback
- Always call saveToFirebase() after state changes

### CSS
- Use CSS custom properties (--accent, --bg, etc.)
- Mobile-first responsive design
- Target iPhone 14 Pro Max (430√ó932)
- Minimum 44√ó44px touch targets
- Dark theme required

### Firebase
- Firestore collection: users/{userId}
- Real-time listeners via onSnapshot
- Sync status indicator required for all changes
- Handle offline gracefully (localStorage backup)

## When Making Changes

1. **Update the code** with requested feature
2. **Update PROJECT.md** with:
   - Move items from "Planned" to "Completed" ‚úÖ
   - Add new bugs to "Known Issues"
   - Update "Last Updated" timestamp
   - Document any new technical decisions
3. **Test sync** - verify changes work across devices
4. **Preserve user data** - never break existing state structure
5. **Auto-commit changes** - Always commit with descriptive messages
6. **Push to GitHub** - Keep remote repository in sync

## Automatic Git Workflow

**After EVERY code change, automatically:**

1. **Stage all changes**: `git add .`
2. **Commit with descriptive message**: Include what was changed and why
3. **Push to GitHub**: `git push origin main`
4. **Update PROJECT.md**: Reflect changes in project documentation

**Commit Message Format:**
```
feat: Add [feature name] - [brief description]
fix: Fix [issue] - [what was broken and how it's fixed]
refactor: Improve [component] - [what was improved]
docs: Update PROJECT.md - [what documentation was updated]
```

**Examples:**
- `feat: Add time blocking timer - 30-minute chunks with ON/OFF task tracking`
- `fix: Resolve Firebase sync timeout - Added 5-second timeout with graceful fallback`
- `refactor: Improve button styling - Applied modern glassmorphism design system`
- `docs: Update PROJECT.md - Marked Phase 3 time blocking as complete`

## Automatic PROJECT.md Updates

**When implementing features, automatically update PROJECT.md:**

1. **Move completed items** from "Planned" to "Completed" with ‚úÖ
2. **Add to "Bug Fixes & Improvements Log"** with:
   - Date of change
   - Brief description of what was fixed/improved
   - Technical details if significant
3. **Update "Last Updated"** timestamp
4. **Add to "Known Issues"** if new bugs discovered
5. **Update "Current Phase"** status if phase completed

**PROJECT.md Update Format:**
```markdown
### Current Session - [Feature Name] Implementation
**Changes:**
- ‚úÖ **Feature name** - Brief description of what was added
- ‚úÖ **Bug fix** - What was broken and how it's fixed
- ‚úÖ **UI improvement** - Visual or UX enhancement made
- ‚úÖ **Firebase enhancement** - Sync or data handling improvement
```

## AI Assistant Workflow

**When making ANY changes, I will automatically:**

1. **Make the code changes** as requested
2. **Update PROJECT.md** with:
   - Move completed items to "Completed" ‚úÖ
   - Add new session to "Bug Fixes & Improvements Log"
   - Update "Last Updated" timestamp
   - Document technical decisions
3. **Stage and commit changes**:
   ```bash
   git add .
   git commit -m "[type]: [description] - [details]"
   git push origin main
   ```
4. **Verify the changes** work as expected

**This ensures:**
- ‚úÖ All changes are tracked in Git
- ‚úÖ PROJECT.md stays current and accurate
- ‚úÖ GitHub repository is always up-to-date
- ‚úÖ Netlify auto-deploys changes
- ‚úÖ Full development history is maintained

## User Experience Principles

- **Flow State First**: Minimize decisions during execution
- **Clear Completion**: Every task has obvious "done" criteria
- **Instant Sync**: Show visual feedback for all Firebase operations
- **Mobile Optimized**: Test on mobile, iPhone is primary device
- **No Decision Fatigue**: Guide users, don't overwhelm them

## Common Tasks

### Adding a New Feature
1. Check PROJECT.md for planned features first
2. Implement in code
3. Update PROJECT.md Phase 3 list
4. Test Firebase sync
5. Verify mobile responsive

### Fixing a Bug
1. Fix the code
2. Add to "Bug Fixes & Improvements Log" in PROJECT.md
3. Remove from "Known Issues" if listed

### Refactoring
1. Preserve existing functionality
2. Don't break Firebase sync
3. Update PROJECT.md "Technical Architecture" if major change
4. Test thoroughly on mobile

## Critical Reminders

- ‚ö†Ô∏è Firestore is in TEST MODE - not secure for public launch
- üì± Always test mobile responsiveness
- üíæ Never lose user data - preserve state structure
- üîÑ Every state change must call saveToFirebase()
- üéØ Focus Mode is the core experience - protect it

## Testing Requirements

**Complex Features Needing Regular Testing:**
- Time Blocking: Timer accuracy, ON/OFF toggle, block filling logic
- Firebase Sync: Data persistence across devices, real-time updates
- Analytics: Daily/weekly calculations, insights generation
- Focus Session: State restoration, chunk completion, history saving
- Mobile Responsiveness: iPhone 14 Pro Max viewport, touch targets

**Testing Reminders:**
- Test time blocking timer with actual 30+ minute sessions
- Verify analytics update in real-time during focus sessions
- Check Firebase sync by opening app on multiple devices
- Test light/dark mode button gradients and readability
- Validate mobile layout on actual iPhone if possible

## File Structure

- `index.html` - Single-file app (HTML + CSS + JS)
- `PROJECT.md` - This project management doc
- `.cursorrules` - This file (development guidelines)

## Next Priorities (from PROJECT.md)

Phase 3 (Current):
- Application status tracking (Queued ‚Üí Tailoring ‚Üí Ready ‚Üí Sent)
- Interview prep task type
- Notes/follow-up reminders per application
- Advanced analytics dashboard
- Design System Overhaul (in progress)

Phase 3.5 (Next):
- Google Sign-In authentication
- Firestore security rules
- Multi-device account management

## Questions to Ask Before Implementing

- Does this fit the "flow state" principle?
- Will it work on mobile?
- Does it require Firebase changes?
- Should PROJECT.md be updated?
- Is there a simpler way?

## Helpful Context

User Preferences:
- Has OCD/perfectionism tendencies ‚Üí needs randomizer, clear criteria
- Visual learner ‚Üí emojis, graphics, progress bars
- Multi-device user ‚Üí sync is critical
- iPhone 14 Pro Max ‚Üí optimize for this screen

Design Language:
- Restaurant POS-style full-width cards
- Dark theme with high contrast
- Generous whitespace
- Large touch targets
- Celebration moments (confetti, streaks)

## Design System (Apply to ALL Changes)

CRITICAL: Every new component or modification must automatically follow modern design principles:

### Visual Style
- **Remove borders**, use soft shadows: `box-shadow: 0 4px 16px rgba(0,0,0,0.12)`
- **Glassmorphism**: `backdrop-filter: blur(20px)` with `rgba()` backgrounds
- **Gradients over flat colors** (especially for accents and hover states)
- **Subtle glow effects** on interactive elements: `box-shadow: 0 0 20px rgba(90,208,255,0.3)`
- **Layered backgrounds**: Deep gradients with subtle animated overlays

### Interactions & Animations
- **Hover states**: 
  - Scale: `transform: scale(1.01)`
  - Lift: `transform: translateY(-2px)`
  - Glow: Add accent color shadow
- **Transitions**: `transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1)` (spring easing)
- **Click feedback**: `transform: scale(0.98)` on active state
- **Loading states**: Skeleton screens or spinner animations, never just "Loading..."
- **Page transitions**: Fade up from bottom `translateY(20px) ‚Üí 0`, 400ms ease-out

### Layout & Spacing
- **Card padding**: 24px (increased from 20px)
- **Element gaps**: 16-20px between items
- **Section spacing**: 32px minimum, 64px for major sections
- **Container max-width**: 1200px with 40px side padding
- **Mobile touch targets**: 44px minimum (56px preferred for primary actions)
- **Whitespace**: Be generous, breathable layouts

### Typography Hierarchy
- **Headers**: Bold weight, clear size jumps (48px ‚Üí 32px ‚Üí 24px ‚Üí 16px)
- **Body text**: 16px base, 1.6 line-height
- **Numbers/timers**: `font-variant-numeric: tabular-nums` for alignment
- **Labels**: 13px, 500 weight, muted color
- **System font stack**: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif`
- **Letter spacing**: -0.02em for uppercase labels

### Component Specifications

**Buttons:**
- Height: 56px (primary actions), 44px (secondary)
- Border radius: 12px (standard), 999px (pill-shaped for primary CTAs)
- States: Default, hover (lift + glow), active (scale down), disabled (opacity 0.5)
- Primary: Gradient background with glow on hover
- Secondary: Glass effect with border
- Ghost: Transparent with border, hover bg change

**Inputs & Forms:**
- Height: 56px
- Border radius: 12px
- Focus state: Glow effect with accent color
- Placeholder: Muted color
- Error state: Red border with shake animation

**Cards:**
- Background: Glass effect `rgba(21, 23, 26, 0.8)`
- Backdrop filter: `blur(20px)`
- Border: `1px solid rgba(255, 255, 255, 0.05)` (subtle)
- Shadow: `0 4px 16px rgba(0, 0, 0, 0.12)`
- Hover: Scale + lift + glow overlay

**Modals:**
- Backdrop: `rgba(0, 0, 0, 0.6)` with `backdrop-filter: blur(8px)`
- Animation: Slide up with spring easing
- Padding: 32px
- Max width: 500px
- Close button: Animated X, top-right

### Mobile-First Requirements
- **Always test** on iPhone 14 Pro Max viewport (430√ó932)
- **Touch targets**: 44px absolute minimum, 56px for important actions
- **Responsive spacing**: Scale down padding/margins appropriately
- **Scroll behavior**: `scroll-behavior: smooth`
- **Bottom sheet modals** on mobile instead of center modals
- **Swipe gestures** for navigation where appropriate

### Utility CSS to Use
```css
.glass {
  background: rgba(21, 23, 26, 0.8);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.glow {
  box-shadow: 0 0 20px rgba(90, 208, 255, 0.3);
}

.lift {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.spring {
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.fade-up {
  animation: fadeUp 400ms ease-out;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}